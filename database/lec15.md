# 并发控制理论
## 事务
数据库对数据操作的最小单位
1. 原子性
2. 一致性
3. 隔离性
4. 持久性

## 原子性
保证原子性的方式有
1. 日志
  - 日志也便于之后对于操作的审计
  - 将修改先记录到日志上，之后批量写到磁盘上也可以增加系统的效率
2. shadow paging
  - 实际上是copy on write的方式

## 隔离性
可串行化的计划，就是并发的计划执行结果和某个串行计划一样.

事务内部的交叉操作引起的冲突有三种
1. 不可重复读:
  - 一个事务中的两次读数据结果不一样，因为与此同时并发的其他事务修改了数据
2. 脏读
  - 事务写后回滚，但是另外一个数据读到了回滚前写入的数据
3. 写写冲突，丢失中间的写入


两种串行化并发事务的方法
1. 冲突串行化
  - 依赖图
2. 观察法
  - 观察法会更好，但是计算机无法实现，因为计算机无法得知数据的意义。


